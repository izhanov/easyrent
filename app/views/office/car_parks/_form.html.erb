<%= form_with model: [:office, :user, car_park], html: {class: "row mt-12", data: {controller: "car-park-form"}} do |f| %>
  <%= f.hidden_field :user_id, value: current_office_user.id %>

  <div class="col-12 mb-3">
    <p class="form-block-name mb-3">Форма ведения бизнеса</p>
    <div class="form-check form-check-inline">
      <%= f.label :kind_ie, "ИП", class: "form-check-label"%>
      <%= f.radio_button :kind, :ie, class: "form-check-input", checked: true, data: {action: "change->car-park-form#changeKind"}%>
    </div>

    <div class="form-check form-check-inline">
      <%= f.label :kind_llp, "ТОО", class: "form-check-label"%>
      <%= f.radio_button :kind, :llp, class: "form-check-input", data: {action: "change->car-park-form#changeKind"}%>
    </div>
  </div>

  <div class="col-12 mb-3">
    <p class="mb-3 form-block-name">Общие данные</p>
    <div class="input-group">
      <%= f.label :title, class: "input-group-text" %>
      <%= f.text_field :title, class: "form-control"%>
    </div>
  </div>

  <div class="col-12 mb-3">
    <div class="input-group">
      <%= f.label :city_id, class: "input-group-text" %>
      <%= f.select :city_id, City.all.pluck(:title, :id), {include_blank: false}, class: "form-select" %>
    </div>
  </div>

  <div class="col-12 mb-3">
    <div class="input-group">
      <%= f.label :business_id_number, class: "input-group-text" %>
      <%= f.text_field :business_id_number, class: "form-control" %>
    </div>
  </div>

  <div class="col-12 mb-3">
    <div class="input-group">
      <%= f.label :contact_phone, class: "input-group-text" %>
      <%= f.text_field :contact_phone, class: "form-control", data: {mask: "phone"} %>
    </div>
  </div>

  <div class="col-12 mb-3">
    <div class="input-group">
      <%= f.label :email, class: "input-group-text" %>
      <%= f.email_field :email, class: "form-control" %>
    </div>
  </div>

  <div class="m-0" data-car-park-form-target="ieForm">
    <%= render "office/car_parks/ie_form", f: f %>
  </div>

  <div class="col-12 mb-3">
    <div class="input-group">
      <%= f.label :bank_name, class: "input-group-text" %>
      <%= f.select :bank_name, Utils::Banks::CODES.to_a, {include_blank: true}, class: "form-select", data: {action: "change->car-park-form#changeBankName"} %>
    </div>
  </div>

  <div class="col-12 mb-3">
    <div class="input-group">
      <%= f.label :bank_account_number, class: "input-group-text" %>
      <%= f.text_field :bank_account_number, class: "form-control" %>
    </div>
  </div>

  <div class="m-0 d-none" data-car-park-form-target="llpForm">
    <%= render "office/car_parks/llp_form", f: f %>
  </div>

  <div class="col-12 mb-3">
    <%= f.submit t(".save"), class: "btn btn-success" %>
  </div>
<% end %>
