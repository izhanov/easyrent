<%= form_with model: [:office, owner, car, car_insurance], html: {class: "row my-2", data: {}} do |f| %>
  <%= f.hidden_field :car_id, value: car.id %>
  <div class="col-12">
    <div class="input-group">
      <%= f.label :kind, class: "input-group-text" %>
      <%= f.select :kind, CarInsurance::KINDS.map { |kind| [CarInsurance.human_attribute_name("kind.#{kind}"), kind] }, {include_blank: false}, class: "form-select" %>
    </div>
  </div>

  <div class="col-6 my-2">
    <div class="input-group">
      <%= f.label :start_at, class: "input-group-text" %>
      <%= f.date_field :start_at, class: "form-control" %>
      <%= error_field(@errors, :start_at) %>
    </div>
  </div>

  <div class="col-6 my-2">
    <div class="input-group">
      <%= f.label :end_at, class: "input-group-text" %>
      <%= f.date_field :end_at, class: "form-control" %>
      <%= error_field(@errors, :end_at) %>
    </div>
  </div>

  <div class="col-12 my-2">
    <%= f.button nil, class: "btn btn-sm btn-success" do %>
      <i class="bi bi-check-lg"></i>
      <%= t(".submit") %>
    <% end %>
    <%= link_to office_car_park_car_car_insurances_path(owner, car), class: "btn btn-sm btn-secondary" do %>
      <i class="bi bi-x-lg"></i>
      <%= t(".cancel") %>
    <% end %>
    <% if car_insurance.persisted? %>
      <%= link_to office_car_park_car_car_insurance_path(owner, car, car_insurance), data: {turbo_method: :delete}, class: "btn btn-sm btn-danger" do %>
        <i class="bi bi-trash"></i>
        <%= t(".destroy") %>
      <% end %>
    <% end %>
  </div>
<% end %>
